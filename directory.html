<!DOCTYPE html>
	<!--[if lt IE 9 ]> <html class="lt_ie9"> <![endif]-->
	<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
	<!--[if (gt IE 9)|!(IE)]><!--><html lang="en" class=""><!--<![endif]-->
	<head>
	    <title>State Directory</title>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <meta name="description" content="directory for state national parks">
	    <meta name="author" content="gregory nikol">
	    
		<!-- Standard Favicon -->
		<link rel="icon" type="image/x-icon" href="images/logo.png" />
		
		<!-- For iPhone 4 Retina display: -->
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images//apple-touch-icon-114x114-precomposed.png">
		
		<!-- For iPad: -->
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images//apple-touch-icon-72x72-precomposed.png">
		
		<!-- For iPhone: -->
		<link rel="apple-touch-icon-precomposed" href=images//apple-touch-icon-57x57-precomposed.png">
		
		<!-- Library - Google Font Familys -->
		<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css?family=Nixie+One" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
		
		<!-- Library -->
	    	<link rel="stylesheet" type="text/css" href="libraries/lib.css">
		
		<!-- Custom - Theme CSS -->
		<link rel="stylesheet" type="text/css" href="css/plugins.css">			
		<link rel="stylesheet" type="text/css" href="css/navigation-menu.css">
		<link rel="stylesheet" type="text/css" href="css/shortcode.css">
		<link rel="stylesheet" type="text/css" href="style.css">
	    <style>
	    		#mapsearch {
				width:94%;
				margin:auto;
				padding-bottom:5px;
			}
			#map {
				width:95%;
				height:38vw;
				margin:auto;
			}
			#content {
				height:20vw;
				width:30vw;
				overflow-y:auto;
				overflow-x:hidden;
				margin:auto;
			}
			#content-center {
				text-align:center;
				margin:auto;
			}
			#iw-image {
				height:15vw;
				width:23vw;
				margin-left:auto;
				margin-right:auto;
			}
			#button-size {
				padding-top:10%;
				width:80%;
				height:2vw;
			}
		</style>
	</head>
	
	<body data-offset="200" data-spy="scroll" data-target=".ow-navigation">
		<div class="main-container">
		
			<!-- Loader -->
			<div id="site-loader" class="load-complete">
				<div class="loader">
					<div class="loader-inner ball-clip-rotate">
						<div></div>
					</div>
				</div>
			</div>
			<!-- Loader /- -->

		<!-- Header Section -->
		<header class="container-fluid no-padding header-section">
		
			<!-- SidePanel -->
			<div id="slidepanel">
			
			
			<div class="container-fluid no-padding menu-block">
				<!-- Container -->
				<div class="container">	
					<!-- nav -->
					<nav class="navbar navbar-default ow-navigation">
						<div class="navbar-header">
							<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<a href="index.html" class="navbar-brand"><img src="images/logo.png" alt="logo" /></a>
						</div>
						<div class="navbar-collapse collapse" id="navbar">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="index.html" title="Home" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">Home</a>
									<i class="ddl-switch fa fa-angle-down"></i>
									<ul class="dropdown-menu">				
									</ul>
								</li>
								<li><a href="directory.html" title="directory">Directory</a></li>
								<li><a href="ticketing.html" title="ticketing">ticketing</a></li>
								<li><a href="gallery.html" title="Gallery">Gallery</a></li>
								<li class="active dropdown">
									<a href="#" title="Donations" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">Donations</a>
									<i class="ddl-switch fa fa-angle-down"></i>
									<ul class="dropdown-menu">
										<li><a href="donations.html" title="Donations">Donations</a></li>
	
										<li><a href="cart.html" title="Cart">cart</a></li>
										<li><a href="checkout.html" title="Checkout">checkout</a></li>

									</ul>
								</li>
								<li class="dropdown">
									<a href="blog.html" title="Blog" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">Profile</a>
									<i class="ddl-switch fa fa-angle-down"></i>
									<ul class="dropdown-menu">
										<li><a href="UserProfile.html" title="User Profile">User Profile</a></li>
										<li><a href="login.html" title="Login">Log In</a></li>
										<li><a href="sign-up.html" title="Sign-Up">Sign Up</a></li>
									</ul>
								</li>
								<li><a href="contactus.html" title="Contact Us">Contact Us</a></li>
							</ul>
						</div><!--/.nav-collapse -->
						<div id="loginpanel" class="desktop-hide">
							<div class="right" id="toggle">
								<a id="slideit" href="#slidepanel"><i class="fo-icons fa fa-inbox"></i></a>
								<a id="closeit" href="#slidepanel"><i class="fo-icons fa fa-close"></i></a>
							</div>
						</div>
					</nav><!-- nav /- -->
				</div><!-- Container /- -->
			</div>
		</header><!-- Header Section /- -->
			
			<main>
		
				<!-- Page Header -->
				<div class="container-fluid no-padding page-header">
					<div class="container">
						<ol class="breadcrumb">
							<li><a href="#">Home</a></li>
							<li class="active">State Directory</li>
						</ol>
					</div>
				</div><!-- Page Header /- -->
				<!-- Map Code -->
				<div id="map"></div>
				<script>
					//**************************************************************
					//***====================GLOBAL VARIABLES====================***	
					//**************************************************************
					var map;
					var stateMarkers = [];
					var parkMarkers = [];
				
					//**************************************************************
					//***===========MAIN FUNCTION - MAP INITIALIZATION===========***	
					//**************************************************************
					function initMap(){
						//Initial Map options
						var options = {
							zoom:5,
							center:{lat:39.8283,lng:-98.5795}
						}
						
						//New Map
						map = new google.maps.Map(document.getElementById('map'), options);
						
						//Listen for click on map --- zoom out and center
						google.maps.event.addListener(map, 'click', 
						function(event){
							map.setZoom(5);
							map.setCenter({lat:39.8283,lng:-98.5795})
							showMarkers(stateMarkers);
							clearMarkers(parkMarkers);
						});
						
						/*Listen for right click on map --- drop a marker
						google.maps.event.addListener(map, 'rightclick', 
						function(event){
							addMarker({coords:event.latLng});
						});*/
						
						//Loop through initial markers
						initMarkers(stateMarkerContent);
						initMarkers(parkMarkerContent);
					}
					

					//**************************************************************
					//***============SECONDARY FUNCTION - ADD MARKERS============***	
					//**************************************************************

					function addMarker(props){
						
						//**************************
						//***//Marker Variables\\***
						//**************************

						//Checks for content --- adds content to info window and listener to activate info window
						if (props.markType === 'state'){
							var image = {
							url:'images/state-marker.png', //Red bubble with standard marker symbol
							scaledSize: new google.maps.Size(28,28)
							}	
						} else {
							var image = {
							url:'images/activity-icon7.png', //Campfire!
							scaledSize: new google.maps.Size(28,30)
							}
						}
						
						var markOps = {
						position:props.coords,
						map:map,
						icon:image,
						animation: google.maps.Animation.DROP,
						sid: props.state_id
						}
						
						//Create New Marker
						var marker = new google.maps.Marker(markOps);

						if (props.title) {
							marker.setTitle(props.title);
						} 
						
						if (props.content) {
							var infoWindow = new google.maps.InfoWindow({content:props.content});

						}

						//********************************
						//***//Marker Event Listeners\\***
						//********************************

						//Listen for double click --- Open Info Window	
						marker.addListener('rightclick', 
						function(){
							infoWindow.open(map, marker);
						});
						
						//Listen for mouse over --- Bounce animation
						marker.addListener('mouseover',
						function() {
							marker.setAnimation(google.maps.Animation.BOUNCE);
						});
							
						//Listen for mouse out from marker --- End animation	
						marker.addListener('mouseout',
						function() {
							marker.setAnimation(null);
						});
							
						//Listen for mouse click --- Zoom into clicked location	
						marker.addListener('click',
						function(){
							if (props.markType === 'state'){
								map.setZoom(7);
								map.setCenter(marker.getPosition());
							} else {
								map.setZoom(8);
								map.setCenter(marker.getPosition());
							}
							clearMarkers(stateMarkers);
							showMarkersIf(parkMarkers, marker.sid);
						});

						//********************************
						//***//Seperate Marker Types\\***
						//********************************

						if (props.markType === 'state') { 
							stateMarkers.push(marker); 
						}
						else {
							marker.setMap(null); 
							parkMarkers.push(marker);
						}

					}


					//**************************************************************
					//***==================SUPPORTING FUNCTIONS==================***	
					//**************************************************************
					
					function initMarkers(contentArray){
						for(var i = 0; i < contentArray.length; i++){
							addMarker(contentArray[i]);
						}
					}
					
					// Sets the map on all markers in the array.
					function setMapOnAll(map, markers) {
	                      			for (var i = 0; i < markers.length; i++) {
							markers[i].setMap(map);
					       	}
					}
					
					// Removes the markers from the map, but keeps them in the array.
				      	function clearMarkers(markers) {
				        	setMapOnAll(null, markers);
					}
					
					// Shows any markers currently in the array.
					function showMarkers(markers) {
					      	setMapOnAll(map, markers);
					}

					// Show any markers matching state id in the array.
					function showMarkersIf(markers, sabbr) {
						for (var i = 0; i < markers.length; i++) {
							if (markers[i].sid === sabbr) { markers[i].setMap(map); }
					       	}
					}
				</script>
			</main>
		</div>
	
		<!-- JQuery v1.12.4 -->
		<script src="js/jquery-1.12.4.min.js"></script>

		<!-- Library - Js -->
		<script src="libraries/lib.js"></script>
		
		<!-- Library - Google Map API -->
		<script src="https://maps.googleapis.com/maps/api/js?key= AIzaSyACZgYoL2PqZtq1dIg6ah1XcxvaqwwOUbA&callback=initMap" async defer></script>

		<!-- Library - Theme JS -->
		<script src="js/functions.js"></script>
		
		<!-- Marker Variables -->
		<script src="statemarkers.js"></script>
		
	</body>
</html>
